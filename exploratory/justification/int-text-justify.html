<!DOCTYPE html>
<html  lang="en" >
<head>
<meta charset="utf-8">
<title>Interactive test: text-justify</title>
<link rel="help" href="https://www.w3.org/TR/2018/WD-css-text-3-20180920/#line-breaking">
<link rel="author" title="r12a" href="mailto:ishida@w3.org">

<link rel="stylesheet" href="../../fonts/metadata_styles.css"/>
<style>

/* the CSS below is not part of the test */
.test {
margin: 40px 5%;
width: 90%;
font-size: 36px;
border: 1px solid orange;
height: 5em;
overflow: hidden;
}
</style>
<script src="../../fonts/interactive_functions.js"> </script>
<script>
function setTextJustify (value) {
tests = document.querySelectorAll('.test')
for (let i=0;i<tests.length;i++) { tests[i].style.textJustify = value }
}

function setTextAlign (value) {
tests = document.querySelectorAll('.test')
for (let i=0;i<tests.length;i++) { tests[i].style.textAlign = value }
}

function setTextAlignLast (value) {
tests = document.querySelectorAll('.test')
for (let i=0;i<tests.length;i++) { tests[i].style.textAlignLast = value }
}

function setText (value) {
document.getElementById('normal').innerHTML = document.getElementById('in').value
document.getElementById('textarea').value = document.getElementById('in').value
}
</script>
</head>
<body>
<h1>Interactive test: text-justify</h1>

<p class="advice">
Set the language <input id="language" type="text" onChange="setLanguage(this.value)"/> <button onClick="setLanguage(document.getElementById('language').value)">Apply</button><br/>

Set font size&nbsp;<input id="fontSize" min="10" max="120" step="1" value="36" oninput="setFontSize(this.value)" type="range"/> 
<span id="sizeOfFont" style="font-size:80%;">36</span>px<br/>

Set the font to <input id="fontFamily" type="text" onChange="setFont(this.value)"/> <button onClick="setLanguage(document.getElementById('fontFamily').value)">Apply</button>
</p>

<div class="advice">Adjust the width of the test boxes.<br/>
<input id="boxWidth" min="10" max="1000" step="1" value="200" oninput="setBoxWidth(this.value)" style="width:80%; margin-left: 5%;" type="range"> <span id="wSizeIndicator" style="font-size:80%;">200</span>px</div>
<script>document.getElementById('sizeIndicator').textContent = Math.floor(window.innerWidth/100*90)</script>


<!-- INPUT AREA -->
<div><textarea id="in" dir="auto" type="text" placeholder="Add text to be tested text here and click on GO."></textarea> 
<button onClick="setText(document.getElementById('in').value)" id="go" style="vertical-align: top;">Go</button></div>



<!-- TESTS -->
<div class="test" id="normal" dir="auto"></div>

<textarea class="test" id="textarea" dir="auto"></textarea>


<!-- CONTROLS -->
<p class="advice">None of the following are set in the file by default. Unless overridden in the URL parameters, the highlighted values show initial settings.</p>
<p><code>text-align:</code>
<label onClick="setTextAlign('start')"><input type="radio" checked value="start" id="textAlignstart" name="textAlign"/><code>start</code></label>
<label onClick="setTextAlign('end')"><input type="radio" value="end" id="textAlignend" name="textAlign"/><code>end</code></label>
<label onClick="setTextAlign('left')"><input type="radio" value="left" id="textAlignleft" name="textAlign"/><code>left</code></label>
<label onClick="setTextAlign('right')"><input type="radio" value="right" id="textAlignright" name="textAlign"/><code>right</code></label>
<label onClick="setTextAlign('center')"><input type="radio" value="center" id="textAligncenter" name="textAlign"/><code>center</code></label>
<label onClick="setTextAlign('justify')"><input type="radio" value="justify" id="textAlignjustify" name="textAlign"/><code>justify</code></label>
<label onClick="setTextAlign('justify-all')"><input type="radio" value="justify-all" id="textAlignjustify-all" name="textAlign"/><code>justify-all</code></label>
</p>
<p><code>text-justify:</code>
<label onClick="setTextJustify('auto')"><input type="radio" checked value="auto" id="textJustifyauto" name="textJustify"/><code>auto</code></label>
<label onClick="setTextJustify('none')"><input type="radio" value="none" id="textJustifynone" name="textJustify"/><code>none</code></label>
<label onClick="setTextJustify('loose')"><input type="radio" value="loose" id="textJustifyinter-word" name="textJustify"/><code>inter-word</code></label>
<label onClick="setTextJustify('strict')"><input type="radio" value="strict" id="textJustifyinter-character" name="textJustify"/><code>inter-character</code></label>
</p>
<p><code>text-align-last:</code>
<label onClick="setTextAlignLast('auto')"><input type="radio" checked value="auto" id="textAlignLastauto" name="textAlignLast"/>
<code>auto</code></label>
<label onClick="setTextAlignLast('start')"><input type="radio" value="start" id="textAlignLaststart" name="textAlignLast"/><code>start</code></label>
<label onClick="setTextAlignLast('end')"><input type="radio" value="end" id="textAlignLastend" name="textAlignLast"/><code>end</code></label>
<label onClick="setTextAlignLast('left')"><input type="radio" value="left" id="textAlignLastleft" name="textAlignLast"/><code>left</code></label>
<label onClick="setTextAlignLast('right')"><input type="radio" value="right" id="textAlignLastright" name="textAlignLast"/><code>right</code></label>
<label onClick="setTextAlignLast('justify')"><input type="radio" value="justify" id="textAlignLastjustify" name="textAlignLast"/><code>justify</code></label>
</p>

<!-- INFO -->
<div id="info" style="clear: both; position: inherit;">
<ul class="notes">
<li>text-align, text-justify and text-align-last are not set by default.</li>
<li>The top test box is HTML. The bottom one is a textarea.</li>
<li>Spec links: <a href="https://www.w3.org/TR/css-text-3/#text-align-property">text-align</a> <a href="https://www.w3.org/TR/css-text-3/#text-justify-property">text-justify</a> <a href="https://www.w3.org/TR/css-text-3/#text-align-last-property">text-align-last</a></li>
<li>Browser: <span id="version"></span></li>
<li><button onClick="document.getElementById('snapshot').value = snapParameters(); document.getElementById('snapshot').select()">Take a snapshot</button>: <input id="snapshot" style="width:30em;" /></li>
</ul>
</div>
<script>
document.getElementById('version').innerHTML = navigator.userAgent


// check for parameters and take appropriate action
parameters = location.search.split('&')
parameters[0] = parameters[0].substring(1)
for (var p=0;p<parameters.length;p++) {  
	pairs = parameters[p].split('=');
	if (pairs[0] == 'lang' && pairs[1]) setLanguage( pairs[1] )
	if (pairs[0] == 'fontSize' && pairs[1]) {
					setFontSize(pairs[1]) 
					document.getElementById('fontSize').value = pairs[1] 
					}
	if (pairs[0] == 'fontFamily' && pairs[1]) {
					setFont(pairs[1]) 
					document.getElementById('fontFamily').value = pairs[1] 
					}
	if (pairs[0] == 'width' && pairs[1]) { 
					setBoxWidth(pairs[1]) 
					document.getElementById('boxWidth').value = pairs[1]
					}
	if (pairs[0] == 'textAlign' && pairs[1]) { 
					setTextAlign(pairs[1]) 
					document.getElementById('textAlign'+pairs[1]).checked = true 
					}
	if (pairs[0] == 'textJustify' && pairs[1]) {
					setTextJustify(pairs[1]) 
					document.getElementById('textJustify'+pairs[1]).checked = true 
					}
	if (pairs[0] == 'textAlignLast' && pairs[1]) {
					setTextAlignLast(pairs[1]) 
					document.getElementById('textAlignLast'+pairs[1]).checked = true 
					}
	
	if (pairs[0] == 'text' && pairs[1]) { 
					document.getElementById('in').value = decodeURIComponent(pairs[1])
					setText(decodeURIComponent(pairs[1]))
					}
	}


function snapParameters () {
// take a snapshot of the settings of the page and make available as URL parameters
// this can be picked up by the user to point to the current setup of the page

out = "https://w3c.github.io/i18n-tests/exploratory/justification/int-text-justify?"
if (document.getElementById('language') && document.getElementById('language').value != '') out += 'lang='+document.getElementById('language').value
if (document.getElementById('fontSize') && document.getElementById('fontSize').value != '') out += '&fontSize='+document.getElementById('fontSize').value
if (document.getElementById('fontFamily') && document.getElementById('fontFamily').value != '') out += '&fontFamily='+document.getElementById('fontFamily').value
if (document.getElementById('boxWidth')) out += '&width='+document.getElementById('boxWidth').value
out += '&textAlign='+document.querySelector('input[name="textAlign"]:checked').value
out += '&textJustify='+document.querySelector('input[name="textJustify"]:checked').value
out += '&textAlignLast='+document.querySelector('input[name="textAlignLast"]:checked').value
out += '&text='+encodeURIComponent(document.getElementById('in').value)
return out
}
</script>
</body>
</html>