<!DOCTYPE html>
<html  lang="en" >
<head>
<meta charset="utf-8">
<title>Interactive test: text-emphasis</title>
<link rel="help" href="https://drafts.csswg.org/css-text-decor-4/">
<link rel="author" title="r12a" href="mailto:ishida@w3.org">

<link rel="stylesheet" href="../../fonts/metadata_styles.css"/>
<style>

/* the CSS below is not part of the test */
.test {
margin: 40px 5%;
width: 400px;
font-size: 36px;
border: 1px solid orange;
height: 400px;
overflow: hidden;
padding: 40px;
}
</style>
<script src="../../fonts/interactive_functions.js"> </script>
<script>

function setTextEmphasisStyle (value) {
var tests = document.querySelectorAll('.test span')
if (tests.length===0) tests = document.querySelectorAll('.test')

if (value === 'none'){
	var boxes = document.querySelectorAll('input[name=textEmphasisStyle]')
	for (let i=0;i<boxes.length;i++) boxes[i].checked = false
	document.getElementById('textEmphasisStyle'+value).checked = true
	}
else {
	document.getElementById('textEmphasisStylenone').checked = false
	}

value = ''
checkboxes = document.querySelectorAll('input[name=textEmphasisStyle]')
if (checkboxes[0].checked) value += 'none '
if (checkboxes[1].checked) value += 'filled '
if (checkboxes[2].checked) value += 'open '
if (checkboxes[3].checked) value += 'dot '
if (checkboxes[4].checked) value += 'circle '
if (checkboxes[5].checked) value += 'double-circle '
if (checkboxes[6].checked) value += 'triangle '
if (checkboxes[7].checked) value += 'sesame '
if (value === '') { 
	value = 'none'
	document.getElementById('textEmphasisStylenone').checked = true
	}

for (let i=0;i<tests.length;i++) tests[i].style.textEmphasisStyle = value
}


function setTextEmphasisPosition (value) {
tests = document.querySelectorAll('.test span')
if (tests.length===0) tests = document.querySelectorAll('.test')

value = ''
checkboxes = document.querySelectorAll('input[name=textEmphasisPosition]')
if (checkboxes[0].checked) value += 'over '
if (checkboxes[1].checked) value += 'under '
if (checkboxes[2].checked) value += 'right '
if (checkboxes[3].checked) value += 'left '

for (let i=0;i<tests.length;i++) tests[i].style.textEmphasisPosition = value
}


function setTextEmphasisColor (value) {
document.getElementById('textEmphasisColor').value = value
tests = document.querySelectorAll('.test span')
if (tests.length===0) tests = document.querySelectorAll('.test')
for (let i=0;i<tests.length;i++) tests[i].style.textEmphasisColor = value
}



function setTextEmphasisSkip (value) {
tests = document.querySelectorAll('.test span')
if (tests.length===0) tests = document.querySelectorAll('.test')

value = ''
checkboxes = document.querySelectorAll('input[name=textEmphasisSkip]')
if (checkboxes[0].checked) value += 'spaces '
if (checkboxes[1].checked) value += 'punctuation '
if (checkboxes[2].checked) value += 'symbols '
if (checkboxes[3].checked) value += 'narrow '

for (let i=0;i<tests.length;i++) tests[i].style.textEmphasisSkip = value
}




function setWritingMode (value) {
tests = document.querySelectorAll('.test')
for (let i=0;i<tests.length;i++) tests[i].style.writingMode = value
}

</script>
</head>
<body>
<h1>Interactive test: text-emphasis</h1>


<!-- BOILERPLATE SETTINGS AT THE TOP -->
<p class="advice">
Set the language <input id="language" type="text" onChange="setLanguage(this.value)"/> <button onClick="setLanguage(document.getElementById('language').value)">Apply</button><br/>

Set font size&nbsp;<input id="fontSize" min="10" max="120" step="1" value="36" oninput="setFontSize(this.value)" type="range"/> 
<span id="sizeOfFont" style="font-size:80%;">36</span>px<br/>

Set the font to <input id="fontFamily" type="text" onChange="setFont(this.value)"/> <button onClick="setFont(document.getElementById('fontFamily').value)">Apply</button>
</p>

<div class="advice">Adjust the width of the test boxes.<br/>
<input id="boxWidth" min="10" max="1000" step="1" value="400" oninput="setBoxWidth(this.value)" style="width:90%; margin-left: 5%;" type="range"> <span id="wSizeIndicator" style="font-size:80%;">400</span>px</div>

<div class="advice">Adjust the height of the test box.<br/>
<input id="boxHeight" min="10" max="1000" step="1" value="400" oninput="setBoxHeight(this.value)" style="width:90%; margin-left: 5%;" type="range"> <span id="vSizeIndicator" style="font-size:80%;">400</span>px</div>


<!-- INPUT AREA -->
<div><textarea id="in" dir="auto" type="text" placeholder="Add text to be tested text here and click on GO."></textarea> 
<button onClick="setText(document.getElementById('in').value)" id="go" style="vertical-align: top;">Go</button></div>



<!-- TESTS -->
<div class="test" id="normal" dir="auto"></div>


<!-- CONTROLS -->
<p class="advice">If you include one or more spans in the test, only the text inside the span(s) will have the style applied to them. None of the following are set in the file by default. Unless overridden in the URL parameters, the highlighted values show initial settings.</p>

<p><fieldset>
<legend><code>text-emphasis-style:</code></legend>
<label onClick="setTextEmphasisStyle('none')"><input type="checkbox" value="none"  id="textEmphasisStylenone" name="textEmphasisStyle"/><code>none</code></label>
| [ [
<label onClick="setTextEmphasisStyle('filled')"><input type="checkbox" value="filled" id="textEmphasisStylefilled" name="textEmphasisStyle"/>
<code>filled</code></label>
||
<label onClick="setTextEmphasisStyle('open')"><input type="checkbox" value="open" id="textEmphasisStyleopen" name="textEmphasisStyle"/>
<code>open</code></label> 
] || [ 
<label onClick="setTextEmphasisStyle('dot')"><input type="checkbox" value="dot" id="textEmphasisStyledot" name="textEmphasisStyle"/>
<code>dot</code></label>
|
<label onClick="setTextEmphasisStyle('circle')"><input type="checkbox" value="circle" id="textEmphasisStylecircle" name="textEmphasisStyle"/>
<code>circle</code></label>
|
<label onClick="setTextEmphasisStyle('double-circle')"><input type="checkbox" value="double-circle" id="textEmphasisStyledouble-circle" name="textEmphasisStyle"/>
<code>double-circle</code></label>
|
<label onClick="setTextEmphasisStyle('triangle')"><input type="checkbox" value="triangle" id="textEmphasisStyletriangle" name="textEmphasisStyle"/>
<code>triangle</code></label>
|
<label onClick="setTextEmphasisStyle('sesame')"><input type="checkbox" value="sesame" id="textEmphasisStylesesame" name="textEmphasisStyle"/>
<code>sesame</code></label>
 ] ] | 
 string: tbd
</fieldset>
</p>


<p><fieldset>
<legend><code>text-emphasis-position:</code></legend>
[ 
<label onClick="setTextEmphasisPosition('over')"><input type="checkbox" value="over"  id="textEmphasisPositionover" name="textEmphasisPosition"/>
<code>over</code></label>
|
<label onClick="setTextEmphasisPosition('under')"><input type="checkbox" value="under" id="textEmphasisPositionunder" name="textEmphasisPosition"/>
<code>under</code></label>
 ] &amp;&amp; [
<label onClick="setTextEmphasisPosition('right')"><input type="checkbox" value="right" id="textEmphasisPositionright" name="textEmphasisPosition"/>
<code>right</code></label>
|
<label onClick="setTextEmphasisPosition('left')"><input type="checkbox" value="left" id="textEmphasisPositionleft" name="textEmphasisPosition"/>
<code>left</code></label> 
]
</fieldset>
</p>




<p><code>text-emphasis-color:</code>
<label><input  onChange="setTextEmphasisColor(this.value)" type="text" value="" id="textEmphasisColor" placeholder="Colour name"></label>  <button onClick="setTextEmphasisColor(document.getElementById('textEmphasisColor').value)">Apply</button></p>




<p><fieldset>
<legend><code>text-emphasis-skip:</code></legend>
<label onClick="setTextEmphasisSkip('spaces')"><input type="checkbox" value="spaces"  id="textEmphasisSkipspaces" name="textEmphasisSkip"/>
<code>spaces</code></label>
||
<label onClick="setTextEmphasisSkip('punctuation')"><input type="checkbox" value="punctuation" id="textEmphasisSkippunctuation" name="textEmphasisSkip"/>
<code>punctuation</code></label>
||
<label onClick="setTextEmphasisSkip('symbols')"><input type="checkbox" value="symbols" id="textEmphasisSkipsymbols" name="textEmphasisSkip"/>
<code>symbols</code></label>
 ||
<label onClick="setTextEmphasisSkip('narrow')"><input type="checkbox" value="narrow" id="textEmphasisSkipnarrow" name="textEmphasisSkip"/>
<code>narrow</code></label>
</fieldset>
</p>



<p><code>writing-mode:</code>
<label onClick="setWritingMode('horizontal-tb')"><input type="radio" checked value="horizontal-tb" id="writingModehorizontal-tb" name="writingMode"/>
<code>horizontal-tb</code></label>
<label onClick="setWritingMode('vertical-rl')"><input type="radio" value="vertical-rl" id="writingModevertical-rl" name="writingMode"/>
<code>vertical-rl</code></label>
<label onClick="setWritingMode('vertical-lr')"><input type="radio" value="vertical-lr" id="writingModevertical-lr" name="writingMode"/>
<code>vertical-lr</code></label>
<label onClick="setWritingMode('sideways-rl')"><input type="radio" value="sideways-rl" id="writingModesideways-rl" name="writingMode"/>
<code>sideways-rl</code></label>
<label onClick="setWritingMode('sideways-lr')"><input type="radio" value="sideways-lr" id="writingModesideways-lr" name="writingMode"/>
<code>sideways-lr</code></label>
</p>


<!-- INFO -->
<div id="info" style="clear: both; position: inherit;">
<ul class="notes">
<li>More tests: 
<a href="https://github.com/w3c/i18n-tests/wiki/List-of-interactive-tests-&-results">List of interactive tests &amp; results</a> &bull;
<a href="https://github.com/w3c/character_phrase_tests/issues">Character &amp; phrase test repo</a> &bull;
<a href="https://w3c.github.io/i18n-tests/results/int-text-decoration">Text decoration results</a>
</li>
<li>Spec links: <a href="https://drafts.csswg.org/css-text-decor-4/#propdef-text-emphasis-style">text-emphasis-style</a> &bull;
<a href="https://drafts.csswg.org/css-text-decor-4/#text-emphasis-position-property">text-emphasis-position</a> &bull;
<a href="https://drafts.csswg.org/css-text-decor-4/#text-emphasis-color-property">text-emphasis-color</a> &bull;
<a href="https://drafts.csswg.org/css-text-decor-4/#text-emphasis-skip">text-emphasis-skip</a></li>
<li>Browser: <span id="version"></span></li>
<li><button onClick="document.getElementById('snapshot').value = snapParameters(); document.getElementById('snapshot').select()">Take a snapshot</button>: <input id="snapshot" style="width:30em;" /></li>
</ul>
</div>
<script>
document.getElementById('version').innerHTML = navigator.userAgent


// check for parameters and take appropriate action
parameters = location.search.split('&')
parameters[0] = parameters[0].substring(1)
for (var p=0;p<parameters.length;p++) {  
	pairs = parameters[p].split('=');
	if (pairs[0] == 'lang' && pairs[1]) setLanguage( pairs[1] )
	if (pairs[0] == 'fontSize' && pairs[1]) {
					setFontSize(decodeURIComponent(pairs[1])) 
					document.getElementById('fontSize').value = decodeURIComponent(pairs[1])
					}
	if (pairs[0] == 'fontFamily' && pairs[1]) {
					setFont(decodeURIComponent(pairs[1]))
					document.getElementById('fontFamily').value = decodeURIComponent(pairs[1])
					}
	if (pairs[0] == 'width' && pairs[1]) { 
					setBoxWidth(pairs[1])
					document.getElementById('boxWidth').value = pairs[1]
					}
	if (pairs[0] == 'height' && pairs[1]) { 
					setBoxHeight(pairs[1])
					document.getElementById('boxHeight').value = pairs[1]
					}


	if (pairs[0] == 'text' && pairs[1]) { 
					document.getElementById('in').value = decodeURIComponent(pairs[1])
					setText(decodeURIComponent(pairs[1]))
					}


	if (pairs[0] == 'textEmphasisStyle' && pairs[1]) {
					values = decodeURIComponent(pairs[1]).split(' ')
					for (let i=0;i<values.length;i++) {
						document.getElementById('textEmphasisStyle'+values[i]).checked = true
						console.log(document.querySelector('.test'))
						setTextEmphasisStyle(values[i])
						}
					}
	if (pairs[0] == 'textEmphasisPosition' && pairs[1]) {
					values = decodeURIComponent(pairs[1]).split(' ')
					for (let i=0;i<values.length;i++) {
						document.getElementById('textEmphasisPosition'+values[i]).checked = true
						setTextEmphasisPosition(values[i])
						}
					}
	if (pairs[0] == 'textEmphasisColor' && pairs[1]) {
					setTextEmphasisColor(decodeURIComponent(pairs[1])) 
					}
	if (pairs[0] == 'textEmphasisSkip' && pairs[1]) {
					values = decodeURIComponent(pairs[1]).split(' ')
					for (let i=0;i<values.length;i++) {
						document.getElementById('textEmphasisSkip'+values[i]).checked = true
						setTextEmphasisSkip(values[i])
						}
					}

	if (pairs[0] == 'writingMode' && pairs[1]) {
					setWritingMode(decodeURIComponent(pairs[1])) 
					document.getElementById('writingMode'+decodeURIComponent(pairs[1])).checked = true 
					}
	}


function snapParameters () {
// take a snapshot of the settings of the page and make available as URL parameters
// this can be picked up by the user to point to the current setup of the page

out = "https://w3c.github.io/i18n-tests/exploratory/text_decoration/int-text-emphasis.html?"
if (document.getElementById('language') && document.getElementById('language').value != '') out += 'lang='+document.getElementById('language').value
if (document.getElementById('fontSize') && document.getElementById('fontSize').value != '') out += '&fontSize='+encodeURIComponent(document.getElementById('fontSize').value)
if (document.getElementById('fontFamily') && document.getElementById('fontFamily').value != '') out += '&fontFamily='+encodeURIComponent(document.getElementById('fontFamily').value)
if (document.getElementById('boxWidth')) out += '&width='+document.getElementById('boxWidth').value
if (document.getElementById('boxHeight')) out += '&height='+document.getElementById('boxHeight').value

value = ''
checkboxes = document.querySelectorAll('input[name=textEmphasisStyle]')
if (checkboxes[0].checked) value += 'none '
if (checkboxes[1].checked) value += 'filled '
if (checkboxes[2].checked) value += 'open '
if (checkboxes[3].checked) value += 'dot '
if (checkboxes[4].checked) value += 'circle '
if (checkboxes[5].checked) value += 'double-circle '
if (checkboxes[6].checked) value += 'triangle '
if (checkboxes[7].checked) value += 'sesame '
out += '&textEmphasisStyle='+encodeURIComponent(value.trim())

value = ''
checkboxes = document.querySelectorAll('input[name=textEmphasisPosition]')
if (checkboxes[0].checked) value += 'over '
if (checkboxes[1].checked) value += 'under '
if (checkboxes[2].checked) value += 'right '
if (checkboxes[3].checked) value += 'left '
out += '&textEmphasisPosition='+encodeURIComponent(value.trim())

out += '&textEmphasisColor='+encodeURIComponent(document.getElementById('textEmphasisColor').value)

value = ''
checkboxes = document.querySelectorAll('input[name=textEmphasisSkip]')
if (checkboxes[0].checked) value += 'spaces '
if (checkboxes[1].checked) value += 'punctuation '
if (checkboxes[2].checked) value += 'symbols '
if (checkboxes[3].checked) value += 'narrow '
out += '&textEmphasisSkip='+encodeURIComponent(value.trim())


if (document.getElementById('boxHeight')) out += '&height='+document.getElementById('boxHeight').value

out += '&text='+encodeURIComponent(document.getElementById('in').value)
return out
}
</script>
</body>
</html>